<mad-readonly-form-field-wrapper [value]="values" [readonly]="readonly">
  <mat-form-field>
    <mat-label>{{label}}</mat-label>
    <mat-select [formControl]="formControl" [multiple]="multiple" disableOptionCentering
                (selectionChange)="selectionChanged($event)"
                panelClass="dropDownBottomClass" (opened)="dialogOpened()" [required]="required">
      <mat-form-field class="filter">
        <input [(ngModel)]="filterValue" #filter [placeholder]="filterLabel" matInput>
        <mad-icon-button *ngIf="filterValue" matSuffix aria-label="Clear" (click)="filterValue=''">
          <mat-icon>close</mat-icon>
        </mad-icon-button>
      </mat-form-field>
      <mat-option *ngFor="let option of filterOptionsProvider(filterValue, formControl.value)"
                  [value]="valueProvider(option)">
        {{showDataProvider(option)}}
      </mat-option>
      <mat-option disabled *ngIf="!filterOptionsProvider(filterValue, formControl.value)?.length && multiple">
        {{noOptionsText}}
      </mat-option>
      <mat-option *ngIf="!required && !multiple"></mat-option>
    </mat-select>
  </mat-form-field>
</mad-readonly-form-field-wrapper>
