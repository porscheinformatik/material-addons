<mat-card
  (click)="fileInput.click()"
  (onFileDropped)="uploadFile($event)"
  class="uploadFileContainer"
  madDragAndDrop
  id="uploadFileContainer"
>
  <input
    #fileInput
    (change)="uploadFile($event.target.files)"
    (click)="fileInput.value = null"
    [accept]="acceptedFileTypes"
    [id]="id"
    [multiple]="multiple"
    hidden
    type="file"
  />
  <mat-card-content>
    @if (hasSingleFile()) {
      {{ fileList[0].name }}
    } @else {
      <mat-icon>vertical_align_top</mat-icon>
      {{ text ? text : 'Upload' }}
    }
  </mat-card-content>
</mat-card>

@if (showFileList) {
  <mat-chip-listbox>
    @for (file of fileList; track file) {
      <mat-chip (click)="openFile(file)" class="download" [removable]="removable" (removed)="remove(file)">
        {{ file.name }}
        @if (removable) {
          <mat-icon matChipRemove>delete_forever</mat-icon>
        }
      </mat-chip>
    }
  </mat-chip-listbox>
}
